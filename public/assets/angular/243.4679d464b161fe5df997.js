"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[243],{1243:(P,m,n)=>{n.r(m),n.d(m,{MarcasModule:()=>B});var c=n(8583),f=n(8239),h=n(6889),u=n(5755),v=n(8259),g=n.n(v),t=n(7716),T=n(8104),A=n(629),p=n(2238),Z=n(7091),l=n(3679),d=n(2533),x=n(6903);function b(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){return t.CHM(e),t.oxw().openModal()}),t.TgZ(1,"mat-icon",16),t._uU(2,"add_business"),t.qZA(),t._uU(3,"Agregar "),t.qZA()}}function M(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"tr",17),t.TgZ(1,"td"),t.TgZ(2,"small"),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"td"),t.TgZ(5,"small"),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"td"),t.TgZ(8,"small"),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"td"),t.TgZ(11,"mat-icon",18),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().deleteMarca(s)}),t._uU(12,"delete_forever "),t.qZA(),t.TgZ(13,"mat-icon",19),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().openModal(s)}),t._uU(14," update"),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=i.$implicit;t.xp6(3),t.Oqu(e.id),t.xp6(3),t.Oqu(e.nombre),t.xp6(3),t.Oqu(e.referencia)}}const C=function(a){return{itemsPerPage:10,currentPage:a}};let S=(()=>{class a{constructor(e,r,o){this.dataService=e,this.authService=r,this.dialog=o,this.unsubscribeSignal=new h.x,this.marcas=[],this.p=1,this.filterPost="",this.usuario=this.authService.usuario,this.getMarcas()}ngOnInit(){}getMarcas(){this.dataService.getAllData("getMarcas").pipe((0,u.R)(this.unsubscribeSignal.asObservable())).subscribe({next:e=>this.marcas=e})}deleteMarca(e){g().fire({title:"Se desactivara la siguiente marca",text:`${e.nombre} - ${e.referencia}`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar!",cancelButtonText:"Cancelar"}).then(r=>{r.isConfirmed&&this.dataService.deleteData("marca",e.id).pipe((0,u.R)(this.unsubscribeSignal.asObservable())).subscribe({next:()=>g().fire("\xa1Listo!","Se desactivo de la BD","success").then(()=>{this.getMarcas()}),error:()=>g().fire("ERROR!","Algo ha fallado intente mas tarde","error")})})}openModal(e){var r=this;return(0,f.Z)(function*(){const{FormMarcaComponent:o}=yield n.e(309).then(n.bind(n,6309));r.dialog.open(o,{width:"400px",data:e}).afterClosed().pipe((0,u.R)(r.unsubscribeSignal)).subscribe(()=>{r.getMarcas()})})()}ngOnDestroy(){this.unsubscribeSignal.next(),this.unsubscribeSignal.unsubscribe()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(T.D),t.Y36(A.e),t.Y36(p.uw))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-marcas"]],decls:35,vars:12,consts:[[1,"row","d-flex"],[1,"col"],[1,"navbar","navbar-light"],[1,"container-fluid","mt-2","px-2"],[1,"navbar-brand"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"card","p-sm-3","border-0","mt-1",2,"border-radius","0.25rem","box-shadow","1px 1px 2px rgb(91 101 130 / 10%)"],[1,"d-flex"],["name","filterPost","type","search","placeholder","Busqueda de registros","aria-label","Search",1,"form-control","m-1","w-auto",3,"ngModel","ngModelChange"],["class","btn btn-outline-primary d-flex align-items-center m-1",3,"click",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col"],["style","cursor: pointer",4,"ngFor","ngForOf"],["previousLabel","","nextLabel","",1,"d-flex","justify-content-center",3,"responsive","pageChange"],[1,"btn","btn-outline-primary","d-flex","align-items-center","m-1",3,"click"],[2,"font-size","18px","height","18px"],[2,"cursor","pointer"],["title","eliminar",1,"text-danger","me-3",2,"cursor","pointer",3,"click"],["title","actualizar",1,"text-info",2,"cursor","pointer",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"nav",2),t.TgZ(3,"div",3),t.TgZ(4,"a",4),t.TgZ(5,"mat-icon"),t._uU(6,"store"),t.qZA(),t._uU(7," Listado de Marcas "),t.qZA(),t._UZ(8,"ul",5),t.qZA(),t.qZA(),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t.TgZ(11,"input",8),t.NdJ("ngModelChange",function(s){return r.filterPost=s}),t.qZA(),t.YNc(12,b,4,0,"button",9),t.qZA(),t.TgZ(13,"div",10),t.TgZ(14,"table",11),t.TgZ(15,"thead"),t.TgZ(16,"tr"),t.TgZ(17,"th",12),t.TgZ(18,"small"),t._uU(19,"ID"),t.qZA(),t.qZA(),t.TgZ(20,"th",12),t.TgZ(21,"small"),t._uU(22,"Nombre"),t.qZA(),t.qZA(),t.TgZ(23,"th",12),t.TgZ(24,"small"),t._uU(25,"Referencia"),t.qZA(),t.qZA(),t.TgZ(26,"th",12),t.TgZ(27,"small"),t._uU(28,"Acci\xf3n"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"tbody"),t.YNc(30,M,15,3,"tr",13),t.ALo(31,"paginate"),t.ALo(32,"search"),t.qZA(),t.qZA(),t.TgZ(33,"pagination-controls",14),t.NdJ("pageChange",function(s){return r.p=s}),t.qZA(),t.qZA(),t.qZA(),t._UZ(34,"br"),t.qZA(),t.qZA()),2&e&&(t.xp6(11),t.Q6J("ngModel",r.filterPost),t.xp6(1),t.Q6J("ngIf","admin"==r.usuario.role),t.xp6(18),t.Q6J("ngForOf",t.xi3(31,4,t.xi3(32,7,r.marcas,r.filterPost),t.VKq(10,C,r.p))),t.xp6(3),t.Q6J("responsive",!0))},directives:[Z.Hw,l.Fj,l.JJ,l.On,c.O5,c.sg,d.LS],pipes:[d._s,x.C],encapsulation:2}),a})();var q=n(1095),U=n(8297),y=n(7361),J=n(8295),O=n(9983);const F=[{path:"",component:S}];let B=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[c.ez,p.Is,Z.Ps,q.ot,d.JX,y.S,U.Bz.forChild(F),l.u5,l.UX,J.lN,O.c]]}),a})()}}]);