"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[309],{6309:(D,l,r)=>{r.r(l),r.d(l,{FormMarcaComponent:()=>v});var u=r(8239),e=r(3679),m=r(2238),d=r(6889),c=r(5755),a=r(7716),g=r(8104),p=r(8583),_=r(8295),f=r(9983),Z=r(1095),E=r(7091);function h(o,i){if(1&o&&(a.TgZ(0,"div",null,1),a.TgZ(2,"h1"),a._uU(3),a.qZA(),a.qZA()),2&o){const t=a.oxw();a.xp6(3),a.hij(" Actualizar ",t.data.nombre,"")}}function T(o,i){1&o&&(a.TgZ(0,"h1"),a._uU(1,"Crear Producto"),a.qZA())}let v=(()=>{class o{constructor(t,n,s,A){this.formBuilder=t,this.dialogRef=n,this.data=s,this.dataService=A,this.unsubscribeSignal=new d.x,this.myFormData=new FormData}ngOnInit(){this.makeForm(),this.data&&this.fillData()}makeForm(){this.form=this.formBuilder.group({nombre:["",[e.kI.required,e.kI.maxLength(100)]],referencia:["",[e.kI.required]]})}fillData(){Object.keys(this.form.controls).forEach(t=>{this.data[t]&&this.form.get(t).setValue(this.data[t].toString())})}onSubmit(){this.data?this.updateProduct():this.createProduct()}updateProduct(){var t=this;return(0,u.Z)(function*(){t.dataService.putData("marca",t.data.id,t.form.value).pipe((0,c.R)(t.unsubscribeSignal.asObservable())).subscribe({next:()=>t.dataService.presentSwall("Exito!","Dato Actualizado","success",2e3),error:()=>t.dataService.presentSwall("Error!","Ha sucedido algo inesperado","danger",2e3),complete:()=>t.dialogRef.close()})})()}createProduct(){this.dataService.postData("marca",this.form.value).pipe((0,c.R)(this.unsubscribeSignal.asObservable())).subscribe({next:t=>{this.dataService.presentSwall("Exito!","Dato Creado","success",2e3)},error:()=>this.dataService.presentSwall("Error!","Ha sucedido algo inesperado","danger",2e3),complete:()=>this.dialogRef.close()})}}return o.\u0275fac=function(t){return new(t||o)(a.Y36(e.qu),a.Y36(m.so),a.Y36(m.WI,8),a.Y36(g.D))},o.\u0275cmp=a.Xpm({type:o,selectors:[["app-form-marca"]],decls:31,vars:3,consts:[[4,"ngIf"],["else",""],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6","col-12"],["appearance","legacy",1,"w-100"],["matInput","","placeholder","Nombre de la marca","formControlName","nombre"],["matInput","","placeholder","Referencia","formControlName","referencia"],[1,"row","mb-4"],[1,"col-6","d-grid","gap-2"],["mat-stroked-button","","color","primary","type","submit",1,"btn",3,"disabled"],[1,"ms-2"],["mat-stroked-button","","color","warn","type","button",1,"btn",3,"click"]],template:function(t,n){1&t&&(a.YNc(0,h,4,1,"div",0),a.YNc(1,T,2,0,"ng-template",null,1,a.W1O),a._UZ(3,"hr"),a.TgZ(4,"form",2),a.NdJ("ngSubmit",function(){return n.onSubmit()}),a.TgZ(5,"h2"),a._uU(6,"Imagen Producto"),a.qZA(),a.TgZ(7,"div",3),a.TgZ(8,"div",4),a.TgZ(9,"mat-form-field",5),a.TgZ(10,"mat-label"),a._uU(11,"Nombre de la marca"),a.qZA(),a._UZ(12,"input",6),a.qZA(),a.qZA(),a.TgZ(13,"div",4),a.TgZ(14,"mat-form-field",5),a.TgZ(15,"mat-label"),a._uU(16,"Referencia de la marca"),a.qZA(),a._UZ(17,"input",7),a.qZA(),a.qZA(),a.qZA(),a.TgZ(18,"div",8),a.TgZ(19,"div",9),a.TgZ(20,"button",10),a.TgZ(21,"mat-icon"),a._uU(22,"done"),a.qZA(),a.TgZ(23,"span",11),a._uU(24," Aceptar"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(25,"div",9),a.TgZ(26,"button",12),a.NdJ("click",function(){return n.dialogRef.close()}),a.TgZ(27,"mat-icon"),a._uU(28,"close"),a.qZA(),a.TgZ(29,"span",11),a._uU(30," Cancelar"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.Q6J("ngIf",n.data),a.xp6(4),a.Q6J("formGroup",n.form),a.xp6(16),a.Q6J("disabled",!n.form.valid))},directives:[p.O5,e._Y,e.JL,e.sg,_.KE,_.hX,f.Nt,e.Fj,e.JJ,e.u,Z.lW,E.Hw],encapsulation:2}),o})()}}]);